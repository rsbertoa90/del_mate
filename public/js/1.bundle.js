webpackJsonp([1],{"14ek":function(t,e,a){var o=a("VU/8")(a("wHLV"),a("EoJU"),!1,function(t){a("80Gv")},"data-v-5f21ea62",null);t.exports=o.exports},"2NnV":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.total>1?a("nav",{attrs:{"aria-label":"Paginator"}},[a("ul",{staticClass:"pagination"},[a("li",{staticClass:"page-item",class:{disabled:1==t.selectedPage}},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:function(e){t.select(t.selectedPage-1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("«")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Previous")])])]),t._v(" "),t._l(t.pages,function(e){return a("li",{key:e,staticClass:"page-item",class:{active:t.selectedPage==e}},[a("div",{staticClass:"page-link",on:{click:function(a){t.select(e)}}},[t._v(t._s(e))])])}),t._v(" "),a("li",{staticClass:"page-item",class:{disabled:t.selectedPage==t.total}},[a("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:function(e){t.select(t.selectedPage+1)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("»")]),t._v(" "),a("span",{staticClass:"sr-only"},[t._v("Next")])])])],2)]):t._e()},staticRenderFns:[]}},"2fBz":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-lg btn-info",on:{click:function(e){t.showForm=!t.showForm}}},[t._v("Nuevo Producto")]),t._v(" "),t.showForm?a("form",{ref:"form",staticClass:"form  row ml-1 d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("div",{staticClass:"col-12 col-lg-6 row"},[a("label",{staticClass:"col-6",attrs:{for:""}},[t._v("Codigo")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.code,expression:"formData.code",modifiers:{trim:!0}}],staticClass:"col-6",attrs:{required:"",type:"text"},domProps:{value:t.formData.code},on:{input:function(e){e.target.composing||t.$set(t.formData,"code",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"col-12 col-lg-6 row"},[a("label",{staticClass:"col-6",attrs:{for:""}},[t._v("Categoria")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.category_id,expression:"formData.category_id",modifiers:{trim:!0}}],staticClass:"col-6 form-control",attrs:{required:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.formData,"category_id",e.target.multiple?a:a[0])}}},[t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                      "+t._s(e.name)+"\n                   ")])}),t._v(" "),a("option",{staticClass:"text-success",attrs:{value:"new"}},[t._v("Nueva")])],2),t._v(" "),"new"==t.formData.category_id?a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.newCategory,expression:"newCategory",modifiers:{trim:!0}}],staticClass:"offset-6",attrs:{placeholder:"Nueva Categoria",type:"text"},domProps:{value:t.newCategory},on:{input:function(e){e.target.composing||(t.newCategory=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}):t._e()]),t._v(" "),a("div",{staticClass:"col-12 col-lg-6 row"},[a("label",{staticClass:"col-6",attrs:{for:""}},[t._v("Producto")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.name,expression:"formData.name",modifiers:{trim:!0}}],staticClass:"col-6",attrs:{rows:"2",required:"",type:"text"},domProps:{value:t.formData.name},on:{input:function(e){e.target.composing||t.$set(t.formData,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),a("div",{staticClass:"col-12 col-lg-6 row"},[a("label",{staticClass:"col-6",attrs:{for:""}},[t._v("Precio")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.formData.price,expression:"formData.price",modifiers:{trim:!0}}],staticClass:"col-6",attrs:{min:"0",step:".01",required:"",type:"number"},domProps:{value:t.formData.price},on:{input:function(e){e.target.composing||t.$set(t.formData,"price",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),t._m(0)]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"offset-1 mt-2"},[e("button",{staticClass:"btn btn-outline-success align-self-end justify-self-end",attrs:{type:"submit"}},[this._v(" GUARDAR ")])])}]}},"4WFN":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["selectedProducts"],data:function(){return{variation:0}},methods:{saveChange:function(t,e){var a=this,o={product:t.id,field:e,value:t[e]};this.$http.put("/admin/product/update",o).then(function(t){a.$emit("refresh")})},applyVariation:function(){var t=this,e=1+this.variation/100;this.selectedProducts.forEach(function(a){a.price=a.price*e,a.pck_price=a.pck_price*e,t.saveChange(a,"price"),t.saveChange(a,"pck_price")}),t.variation=0,t.$emit("resetCheckboxes")}}}},"80Gv":function(t,e,a){var o=a("jUTu");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("f7a50c5c",o,!0,{})},"8YHa":function(t,e,a){var o=a("M/YB");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("778e9f54",o,!0,{})},B5oR:function(t,e,a){var o=a("eL+o");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("4966312e",o,!0,{})},EoJU:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.product&&t.categories?a("tr",[a("td",[t.product.images&&t.product.images.length>0?a("img",{staticStyle:{width:"150px"},attrs:{src:t.product.images[0].url,alt:t.product.name},on:{click:function(e){t.imgModal()}}}):a("img",{attrs:{src:"/storage/images/app/no-image.png",alt:t.product.name},on:{click:function(e){t.imgModal(t.product)}}})]),t._v(" "),a("td",[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.product.code,expression:"product.code",modifiers:{lazy:!0}}],staticClass:"form-control smallField",attrs:{type:"text"},domProps:{value:t.product.code},on:{change:[function(e){t.$set(t.product,"code",e.target.value)},function(e){t.saveChange(t.product,"code")}]}})]),t._v(" "),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.category_id,expression:"product.category_id"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.product,"category_id",e.target.multiple?a:a[0])},function(e){t.changed(t.product,"category")}]}},t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id,selected:t.product.category_id==e.id}},[t._v(" \n                "+t._s(e.name)+" \n            ")])}))]),t._v(" "),a("td",{staticClass:"d-flex flex-column"},[a("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:t.product.name,expression:"product.name",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{placeholder:"Nombre",rows:"1",type:"text"},domProps:{value:t.product.name},on:{change:[function(e){t.$set(t.product,"name",e.target.value)},function(e){t.saveChange(t.product,"name")}]}}),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:t.product.description,expression:"product.description",modifiers:{lazy:!0}}],staticClass:"form-control",attrs:{placeholder:"descripcion",rows:"2",type:"text"},domProps:{value:t.product.description},on:{change:[function(e){t.$set(t.product,"description",e.target.value)},function(e){t.saveChange(t.product,"description")}]}})]),t._v(" "),a("td",[a("div",{staticClass:"row w-100 d-flex align-items-center"},[t._v("\n            $"),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.product.price,expression:"product.price",modifiers:{lazy:!0}}],staticClass:" form-control smallField",attrs:{type:"number",step:".01"},domProps:{value:t.product.price},on:{change:[function(e){t.$set(t.product,"price",e.target.value)},function(e){t.saveChange(t.product,"price")}]}})])]),t._v(" "),a("td",{staticClass:"d-flex flex-column justify-content-center align-items-center p-0"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.selected,expression:"product.selected"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.product.selected)?t._i(t.product.selected,null)>-1:t.product.selected},on:{change:function(e){var a=t.product.selected,o=e.target,r=!!o.checked;if(Array.isArray(a)){var s=t._i(a,null);o.checked?s<0&&t.$set(t.product,"selected",a.concat([null])):s>-1&&t.$set(t.product,"selected",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.product,"selected",r)}}}),t._v(" "),a("button",{staticClass:"btn btn-sm btn-outline-danger m-1",on:{click:function(e){e.preventDefault(),t.deleteProduct(t.product)}}},[a("fa-icon",{attrs:{icon:"trash"}})],1),t._v(" "),a("button",{staticClass:"btn btn-sm m-1",class:{"btn-info":!t.product.paused,"btn-success":t.product.paused},on:{click:function(e){e.preventDefault(),t.togglePause(t.product)}}},[t.product.paused?t._e():a("fa-icon",{attrs:{icon:"pause-circle"}}),t._v(" "),t.product.paused?a("fa-icon",{attrs:{icon:"play"}}):t._e()],1),t._v(" "),a("button",{staticClass:"btn btn-sm m-1",class:{"btn-secondary":!t.product.offer,"btn-info":t.product.offer},on:{click:function(e){e.preventDefault(),t.toggleOffer(t.product)}}},[t._v("\n            Oferta\n        ")])]),t._v(" "),t.product&&t.showModal?a("image-modal",{ref:"modal",attrs:{product:t.product},on:{refresh:function(e){t.refresh()},closedModal:function(e){t.showModal=!1}}}):t._e()],1):t._e()},staticRenderFns:[]}},JAxG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("bDwN"),r=a.n(o),s=a("MS5n"),i=a.n(s),n=a("14ek"),c=a.n(n),l=a("W/AX"),d=a.n(l);e.default={components:{paginator:d.a,changePrices:i.a,adminCreate:r.a,productRow:c.a},data:function(){return{searchMode:!1,searchTerm:"",selectedPage:1,productsPerPage:30,selector:{id:"all",checked:!1},variation:0,list:[],showModal:!1,orderBy:"category.name"}},computed:{loading:function(){return!this.products},categories:function(){return this.$store.getters.getCategories},products:function(){if(this.categories){var t=[];return this.categories.forEach(function(e){e.products&&(t=t.concat(e.products))}),t}},selectedProducts:function(){var t=[];return this.products.forEach(function(e){e.selected&&t.push(e)}),t},filterProducts:function(){var t=this;if(this.searchMode)return this.searchFilter();if(this.products.length>0){var e=null;if("category.name"==this.orderBy&&(e="category"),e&&"all"!=this.selector.id){var a=this.products.filter(function(a){return a[e].id==t.selector.id});return _.orderBy(a,this.orderBy)}return _.orderBy(this.products,this.orderBy)}return[]},filteredProducts:function(){var t=this.filterProducts;return this.paginate(t,this.selectedPage)}},watch:{orderBy:function(){this.products=_.sortBy(this.products,this.orderBy),this.selector.id="all",this.resetFilters()},"selector.id":function(){this.resetFilters()}},methods:{resetFilters:function(){this.resetCheckboxes(),this.selectedPage=1,this.searchMode=!1,this.searchTerm=""},search:function(){var t=this,e=this.searchTerm;this.selector.id="all",this.selectedPage=1,setTimeout(function(){t.searchTerm=e,t.searchMode=!0},100),this.searchMode=!0},searchComparision:function(t,e){var a=e.name.toLowerCase().trim();t=t.toLowerCase().trim();var o=e.category.name.toLowerCase().trim(),r=e.code.toLowerCase().trim();return a.indexOf(t)>-1||o.indexOf(t)>-1||r.indexOf(t)>-1},searchFilter:function(){var t=this,e=this.searchTerm.split(" "),a=[];return this.products.forEach(function(o){var r=!0;e.forEach(function(e){r&&!t.searchComparision(e,o)&&(r=!1)}),r&&a.push(o)}),a},paginate:function(t,e){if(t&&t.length>0)return e--,t.slice(e*this.productsPerPage,(e+1)*this.productsPerPage)},resetCheckboxes:function(){this.selector.checked=!1,this.products.forEach(function(t){void 0==t.selected?Vue.set(t,"selected",!1):t.selected=!1})},checkSelect:function(){var t=this;"all"==this.selector.id?this.products.forEach(function(e){void 0==e.selected&&Vue.set(e,"selected",!0),e.selected=t.selector.checked}):"category.name"==this.orderBy&&this.products.forEach(function(e){e.category.id==t.selector.id&&(void 0==e.selected&&Vue.set(e,"selected",!0),e.selected=t.selector.checked)})},refresh:function(){this.$store.dispatch("fetchCategories")},saveChange:function(t,e){var a={product:t.id,field:e,value:t[e]};$.ajax({method:"put",data:a,url:"/admin/product/update"})},selectAllProducts:function(){this.products.forEach(function(t){void 0==t.selected?Vue.set(t,"selected",!0):t.selected=!0})}},created:function(){this.refresh()},mounted:function(){var t=this;this.$http.get("/getuser").then(function(e){t.user=e.data})}}},K6it:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["categories"],data:function(){return{showForm:!1,editProvider:!1,editCategory:!1,newCategory:null,formData:{price:null,category_id:null,name:null,code:null}}},methods:{valid:function(){var t=this;if("new"==t.formData.category_id&&!t.newCategory)return swal("error","No ingreso un nombre para la nueva categoria","error"),!1;var e=null;return t.categories.forEach(function(a){var o=a.products.find(function(e){return e.code==t.formData.code});null!=o&&(e=o)}),null==e||(swal("error","ya existe un producto con el codigo"+t.formData.code,"error"),!1)},resetForm:function(){this.formData={price:null,category_id:null,name:null,code:null}},saveProduct:function(){var t=this;t.$http.post("/admin/product/",t.formData).then(function(e){t.$emit("productSaved",e.data),swal("Producto guardado","","success"),t.resetForm(),t.$emit("productSaved"),t.showForm=!1})},saveCategory:function(t){var e=this;null!=e.categories.find(function(t){return t.name.toLowerCase()==e.newCategory.toLowerCase()})?swal("Error","Ya existe la categoria "+e.newCategory,"error"):e.$http.post("/admin/category/",{name:this.newCategory,_token:csrf}).then(function(a){var o=a.data;e.formData.category_id=o.id,t()})},save:function(){this.valid()&&("new"==this.formData.category_id?this.saveCategory(this.saveProduct):this.saveProduct())}}}},"M/YB":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".pagination[data-v-63445fdb]{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",""])},MS5n:function(t,e,a){var o=a("VU/8")(a("4WFN"),a("wf8d"),!1,null,null,null);t.exports=o.exports},"R//A":function(t,e,a){var o=a("yGa+");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("4a010c30",o,!0,{})},UZ9S:function(t,e,a){var o=a("VU/8")(a("nRID"),a("WE5y"),!1,function(t){a("R//A")},"data-v-38ba9b2c",null);t.exports=o.exports},"W/AX":function(t,e,a){var o=a("VU/8")(a("m9cQ"),a("2NnV"),!1,function(t){a("8YHa")},"data-v-63445fdb",null);t.exports=o.exports},WE5y:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"image-modal",tabindex:"-1",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t.product?a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.product.name)+" ")]),t._v(" "),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){t.closedModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"image-container"},[a("transition",{attrs:{"leave-active-class":" animated slideOutRight faster position-absolute"}},[t.product.images&&t.product.images.length>0&&t.product.images[t.i]?a("img",{key:t.product.images[t.i].id,staticClass:"w-100 ",attrs:{src:t.product.images[t.i].url,alt:t.product.name}}):t._e()]),t._v(" "),!t.product.images||!t.product.images.length>0?a("img",{attrs:{src:"/storage/images/app/no-image.png",alt:t.product.name}}):t._e(),t._v(" "),t.product.images&&t.product.images.length>1?a("div",{staticClass:"controls"},[a("span",{staticClass:"chevron-button",on:{click:function(e){e.preventDefault(),t.changeImage("prev")}}},[a("i",{staticClass:"fa fa-chevron-left text-info "})]),t._v(" "),a("span",{staticClass:"chevron-button",on:{click:function(e){e.preventDefault(),t.changeImage("next")}}},[a("i",{staticClass:"fa fa-chevron-right text-info "})])]):t._e(),t._v(" "),t.product.images&&t.product.images.length>0?a("button",{staticClass:"close-button btn btn-danger btn-sm",attrs:{type:"submit"},on:{click:function(e){t.destroyImage()}}},[t._v("X")]):t._e(),t._v(" "),t.product.images&&t.product.images.length>0?a("button",{staticClass:"btn btn-info set-first",on:{click:function(e){t.setFirst()}}},[t._v("Definir primera imagen")]):t._e()],1),t._v(" "),a("form",{attrs:{enctype:"multipart/form-data",name:"uploader"}},[a("csrf"),t._v(" "),a("div",{staticClass:"d-flex flex-column"},[a("label",{staticClass:"text-info text-center"},[t._v("  \n                    Subir una imagen   \n                ")]),t._v(" "),a("input",{ref:"daFile",staticClass:"display-none",attrs:{type:"file",name:"file",accept:"image/x-png,image/gif,image/jpeg"}})])],1)]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("Guardar")]),t._v(" "),a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cerrar")])])]):t._e()])])},staticRenderFns:[]}},bDwN:function(t,e,a){var o=a("VU/8")(a("K6it"),a("2fBz"),!1,null,null,null);t.exports=o.exports},"eL+o":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".loader[data-v-67c2082d]{position:fixed;height:100%;width:100%;z-index:110;background-color:#ddddddaa;left:0;top:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:start;-ms-flex-align:start;align-items:start;padding-top:5%}input[type=checkbox][data-v-67c2082d]{width:25px;margin:10px;height:20px}.smallField[data-v-67c2082d]{width:80px}td[data-v-67c2082d]{min-width:120px}.btn-link[data-v-67c2082d]{color:#000}td img[data-v-67c2082d]{width:10vw}@media(max-width:600px){.card-body[data-v-67c2082d],.card[data-v-67c2082d],.container[data-v-67c2082d],table[data-v-67c2082d]{font-size:.66rem;padding:0}input[data-v-67c2082d],td[data-v-67c2082d],th[data-v-67c2082d]{white-space:nowrap;width:13vw;padding:2px}.nametd[data-v-67c2082d]{width:25vw}}",""])},jUTu:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,"input[type=checkbox][data-v-5f21ea62]{width:25px;margin:10px;height:20px}.smallField[data-v-5f21ea62]{width:80px}td[data-v-5f21ea62]{min-width:120px}.btn-link[data-v-5f21ea62]{color:#000}td img[data-v-5f21ea62]{width:10vw}@media (max-width:600px){.card-body[data-v-5f21ea62],.card[data-v-5f21ea62],.container[data-v-5f21ea62],table[data-v-5f21ea62]{font-size:.66rem;padding:0}input[data-v-5f21ea62],td[data-v-5f21ea62],th[data-v-5f21ea62]{white-space:nowrap;width:13vw;padding:2px}.nametd[data-v-5f21ea62]{width:25vw}}",""])},kMxJ:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[t.loading?a("div",{staticClass:"loader"},[a("dot-loader",{attrs:{loading:t.loading,size:"200px"}})],1):t._e(),t._v(" "),"sm"==t.$mq?a("div",{staticClass:"w-100 d-flex flex-column align-items-center jusify-content-center"},[a("h2",{staticClass:"text-warning"},[t._v("\n            Lo sentimos. El administrador no esta disponible en dispositivos moviles.\n        ")])]):a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"col-12"},[a("admin-create",{attrs:{categories:t.categories},on:{productSaved:t.refresh}})],1),t._v(" "),a("hr"),t._v(" "),a("hr",{staticClass:"w-100"}),t._v(" "),a("div",{staticClass:"col-12 row"},[a("div",{staticClass:"col-6 row"},[a("label",{staticClass:"text-info font-weight-bold col-4"},[t._v("Ordenar por")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderBy,expression:"orderBy"}],staticClass:"form-control col-6",attrs:{id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.orderBy=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"category.name"}},[t._v("Categoria")]),t._v(" "),a("option",{attrs:{value:"name"}},[t._v("Producto")]),t._v(" "),a("option",{attrs:{value:"price"}},[t._v("Precio")])])]),t._v(" "),a("div",{staticClass:"col-6 d-flex flex-column"},[a("div",{staticClass:"d-flex align-items-center "},[a("label",{staticClass:"text-info font-weight-bold"},[t._v("Filtrar")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selector.checked,expression:"selector.checked"}],staticClass:"form-control",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.selector.checked)?t._i(t.selector.checked,null)>-1:t.selector.checked},on:{change:[function(e){var a=t.selector.checked,o=e.target,r=!!o.checked;if(Array.isArray(a)){var s=t._i(a,null);o.checked?s<0&&t.$set(t.selector,"checked",a.concat([null])):s>-1&&t.$set(t.selector,"checked",a.slice(0,s).concat(a.slice(s+1)))}else t.$set(t.selector,"checked",r)},t.checkSelect]}}),t._v(" "),"category.name"==t.orderBy?a("select",{directives:[{name:"model",rawName:"v-model",value:t.selector.id,expression:"selector.id"}],staticClass:"form-control col-4",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.selector,"id",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"all"}},[t._v(" Todo")]),t._v(" "),t._l(t.categories,function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" \n                                    "+t._s(e.name)+"\n                            ")])})],2):t._e()])])]),t._v(" "),a("div",{staticClass:"col-12 row mt-3 mb-3 ml-2"},[a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.searchTerm,expression:"searchTerm",modifiers:{lazy:!0}}],staticClass:"form-control col-4",attrs:{placeholder:"BUSCAR"},domProps:{value:t.searchTerm},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.search(e):null},change:function(e){t.searchTerm=e.target.value}}}),t._v(" "),a("button",{staticClass:"btn btn-outline-success ml-2",on:{click:t.search}},[t._v("Buscar")])]),t._v(" "),a("div",{staticClass:"row mt-4 ml-2"},[a("paginator",{attrs:{selectedPage:t.selectedPage,products:t.filterProducts,productsPerPage:t.productsPerPage},on:{selectPage:function(e){t.selectedPage=e}}})],1),t._v(" "),t.filteredProducts?a("table",{staticClass:"table table-striped table-bordered ",attrs:{id:"table"}},[t._m(1),t._v(" "),t._l(t.filteredProducts,function(e){return a("product-row",{key:e.id,tag:"tr",attrs:{product:e,categories:t.categories},on:{refresh:t.refresh}})})],2):t._e(),t._v(" "),a("paginator",{attrs:{selectedPage:t.selectedPage,products:t.filterProducts,productsPerPage:t.productsPerPage},on:{selectPage:function(e){t.selectedPage=e}}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-12 d-flex justify-content-center"},[e("img",{staticStyle:{width:"200px",height:"110px"},attrs:{src:"/storage/images/app/logo.png",alt:"logo"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{},[a("th",[t._v("imagen")]),t._v(" "),a("th",[t._v("Codigo")]),t._v(" "),a("th",[t._v("Categoria")]),t._v(" "),a("th",[t._v("Producto")]),t._v(" "),a("th",[t._v("Precio")])])}]}},m9cQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["selectedPage","products","productsPerPage"],computed:{total:function(){if(this.products)return this.products.length/this.productsPerPage},pages:function(){var t=this.total;t%1!=0&&t++;for(var e=[],a=1;a<t;a++)e.push(a);return e}},methods:{select:function(t){this.$emit("selectPage",t)}}}},nRID:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["product"],data:function(){return{file:null,i:0,csrf:csrf,show:!0}},watch:{product:function(){this.show=!0}},methods:{destroyImage:function(){var t=this,e={id:t.product.images[t.i].id};this.$http.post("/admin/product/deleteImage",e).then(function(e){console.log("deleted"),t.product.images.splice(t.i,1),t.i=0})},setFirst:function(){var t=this;this.product.images.forEach(function(t){t.first=0}),this.product.images[this.i].first=1;var e={product:this.product.id,first:this.product.images[this.i].id};this.$http.put("/admin/product/setFirstImage",e).then(function(e){$("#image-modal").modal("hide"),t.$emit("closedModal"),t.$emit("refresh")})},closedModal:function(){this.i=0,this.$emit("closedModal")},save:function(t){var e,a,o,r=this,s=r.$refs.daFile.files[0],i=new FormData;i.append("image",s),i.append("product",this.product.id),this.$http.post("/admin/product/image",i,{emulateHTTP:!0,emulateJSON:!0,headers:(e={"X-File-Name":"image","Content-Type":"multipart/form-data"},a="Content-Type",o="application/x-www-form-urlencoded",a in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e)}).then(function(t){$("#image-modal").modal("hide"),r.$emit("refresh"),r.$emit("closedModal")})},changeImage:function(t){"next"==t?(this.i++,this.product.images[this.i]||(this.i=0)):(this.i--,this.i<0&&(this.i=this.product.images.length-1))}}}},"vC/7":function(t,e,a){var o=a("VU/8")(a("JAxG"),a("kMxJ"),!1,function(t){a("B5oR")},"data-v-67c2082d",null);t.exports=o.exports},wHLV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("UZ9S"),r=a.n(o);e.default={components:{imageModal:r.a},props:["product","supliers","categories"],data:function(){return{showModal:!1}},methods:{refresh:function(){this.$emit("refresh")},saveChange:function(t,e){var a={product:t.id,field:e,value:t[e]};this.$http.put("/admin/product/update",a)},togglePause:function(t){t.paused=!t.paused,this.saveChange(t,"paused")},toggleOffer:function(t){t.offer=!t.offer,this.saveChange(t,"offer")},deleteProduct:function(t){var e=this,a=this;swal({title:"¿Estas seguro de elimiar este producto?",text:"",type:"warning",buttons:["Cancelar","Borrar!"],dangerMode:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Borrar!",cancelButtonText:"Cancelar!",closeOnConfirm:!1,closeOnCancel:!1}).then(function(o){o&&e.$http.delete("/admin/product/"+t.id).then(function(t){a.$emit("refresh")})})},changed:function(t,e){this.saveChange(t,e+"_id")},imgModal:function(){var t=this;this.showModal=!0,setTimeout(function(){var e=t.$refs.modal.$el;$(e).modal("show")},100)}}}},wf8d:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-4 d-flex flex-column justify-content-center align-items-center"},[a("h4",[t._v("Cambiar precios masivo")]),t._v(" "),a("h5",[a("span",{staticClass:"text-info"},[t._v(t._s(t.selectedProducts.length))]),t._v("  Productos seleccionados \n    ")]),t._v(" "),a("div",{staticClass:"d-flex justify-content-center"},[a("button",{staticClass:"mr-2",on:{click:function(e){t.variation-=1}}},[t._v("-")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.variation,expression:"variation"}],staticStyle:{width:"45px"},attrs:{type:"number"},domProps:{value:t.variation},on:{input:function(e){e.target.composing||(t.variation=e.target.value)}}}),t._v(" %\n        "),a("button",{staticClass:"ml-2",on:{click:function(e){t.variation+=1}}},[t._v("+")])]),t._v(" "),0!=t.variation&&t.selectedProducts.length>0?a("button",{staticClass:"btn btn-md btn-outline-success mt-1",on:{click:t.applyVariation}},[t._v("Aplicar")]):t._e()])},staticRenderFns:[]}},"yGa+":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".modal-content[data-v-38ba9b2c]{height:90vh;overflow-y:auto}.chevron-button[data-v-38ba9b2c]{font-size:1.5rem;padding:3px;cursor:pointer;z-index:300;background-color:#0000}.image-container[data-v-38ba9b2c]{position:relative;overflow:hidden}.close-button[data-v-38ba9b2c]{position:absolute;bottom:10px;left:50%}.controls[data-v-38ba9b2c]{position:absolute;bottom:50%;left:0;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.controls .fa[data-v-38ba9b2c]{font-size:2rem;cursor:pointer}.set-first[data-v-38ba9b2c]{position:absolute;top:10px;left:50%}",""])}});